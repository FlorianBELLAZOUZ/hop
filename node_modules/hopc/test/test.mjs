/*=====================================================================*/
/*    .../prgm/project/hop/3.7.x/node_modules/hopc/test/test.mjs       */
/*    -------------------------------------------------------------    */
/*    Author      :  Manuel Serrano                                    */
/*    Creation    :  Thu Nov 16 10:44:53 2023                          */
/*    Last change :  Thu Nov 16 12:58:47 2023 (serrano)                */
/*    Copyright   :  2023 Manuel Serrano                               */
/*    -------------------------------------------------------------    */
/*    Testing the hopc package                                         */
/*=====================================================================*/
"use strict";

/*---------------------------------------------------------------------*/
/*    import                                                           */
/*---------------------------------------------------------------------*/
import * as assert from "assert";
import { Parser, ast, generate } from "@hop/hopc";

describe('hop()', function () {
   const parser = new Parser();
   const parseString = parser.parseString.bind(parser);
   
   it('parse boolean', function () {
      assert.equal(parseString("true;").generate(), "true;");
   });
   it('parse number', function () {
      assert.equal(parseString("1234;").generate(), "1234;");
   });
   it('parse expression', function () {
      assert.equal(parseString("1+x;").generate(), "1+x;");
   });
   it('parse expression', function () {
      assert.equal(parseString("1+x.length+'foo'.length;").generate(), "1+x.length+\"foo\".length;");
   });
   it('parse chaining', function () {
      assert.equal(parseString("y?.z").generate(), "y?.z;");
   });
});
