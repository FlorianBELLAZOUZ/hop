#*=====================================================================*/
#*    serrano/prgm/project/hop/hop/node_modules/Makefile               */
#*    -------------------------------------------------------------    */
#*    Author      :  Manuel Serrano                                    */
#*    Creation    :  Fri Jan 20 13:46:40 2006                          */
#*    Last change :  Tue May 28 08:34:13 2024 (serrano)                */
#*    Copyright   :  2006-24 Manuel Serrano                            */
#*    -------------------------------------------------------------    */
#*    node_modules Makefile                                            */
#*=====================================================================*/
do: build

#*---------------------------------------------------------------------*/
#*    Configuration                                                    */
#*---------------------------------------------------------------------*/
-include ../etc/Makefile.hopconfig
-include ../etc/Makefile.version

#*---------------------------------------------------------------------*/
#*    The entries                                                      */
#*---------------------------------------------------------------------*/
.PHONY: build clean install uninstall

build:
	$(MAKE) -C markdown/lib build
	$(MAKE) -C texinfo/lib build
	$(MAKE) -C fontifier/lib build
	$(MAKE) -C config/lib build
	$(MAKE) -C syslog/lib build
	$(MAKE) -C hop/hop build
	$(MAKE) -C hopc/hop build
	$(MAKE) -C hopscript/lib build
	$(MAKE) -C openpgp/lib build
	$(MAKE) -C systime/lib build
	$(MAKE) -C sqlite/lib build build-node
	$(MAKE) -C system/lib build
	$(MAKE) -C cpp/lib build
	$(MAKE) -C feed/lib build
	$(MAKE) -C tree/lib build
	$(MAKE) -C xml/lib build
	$(MAKE) -C csv/lib build
	$(MAKE) -C text/lib build
	$(MAKE) -C hz/lib build
	$(MAKE) -C ts/lib build
	$(MAKE) -C utils/lib build
	$(MAKE) -C vcf/lib build
	$(MAKE) -C hopdroid/lib build
	$(MAKE) -C zeroconf/lib build
	$(MAKE) -C readlines/hop build
	$(MAKE) -C exif/hop build

#*---------------------------------------------------------------------*/
#*    install                                                          */
#*---------------------------------------------------------------------*/
install:
	$(MAKE) mkdir DIR=$(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	$(MAKE) mkdir DIR=$(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules/@hop
	cp -r ../node_modules/notepad $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/spage $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/wiki $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/security $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/config $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/user $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/hopdoc $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/hss $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	cp -r ../node_modules/@types $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules
	$(MAKE) -C markdown/lib install
	$(MAKE) -C texinfo/lib install
	$(MAKE) -C fontifier/lib install
	$(MAKE) -C config/lib install
	$(MAKE) -C syslog/lib install
	$(MAKE) -C hopc/hop install
	$(MAKE) -C hop/hop install
	$(MAKE) -C hopscript/lib install
	$(MAKE) -C openpgp/lib install
	$(MAKE) -C systime/lib install
	$(MAKE) -C sqlite/lib install
	$(MAKE) -C system/lib install
	$(MAKE) -C cpp/lib install
	$(MAKE) -C feed/lib install
	$(MAKE) -C tree/lib install
	$(MAKE) -C xml/lib install
	$(MAKE) -C csv/lib install
	$(MAKE) -C text/lib install
	$(MAKE) -C hz/lib install
	$(MAKE) -C ts/lib install
	$(MAKE) -C utils/lib install
	$(MAKE) -C vcf/lib install
	$(MAKE) -C hopdroid/lib install
	$(MAKE) -C zeroconf/lib install
	$(MAKE) -C exif/hop install
	$(MAKE) -C readlines/hop install
	chmod $(MODDIR) $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules

uninstall:
	-$(RM) -rf $(DESTDIR)$(HOPLIBDIR)/$(HOPFILDIR)/node_modules

#*---------------------------------------------------------------------*/
#*    clean                                                            */
#*---------------------------------------------------------------------*/
clean:
	$(MAKE) -C markdown/lib clean
	$(MAKE) -C texinfo/lib clean
	$(MAKE) -C fontifier/lib clean
	$(MAKE) -C config/lib clean
	$(MAKE) -C syslog/lib clean
	$(MAKE) -C hop/hop clean
	$(MAKE) -C hopc/hop clean
	$(MAKE) -C hopc/node clean
	$(MAKE) -C hopscript/lib clean
	$(MAKE) -C openpgp/lib clean
	$(MAKE) -C systime/lib clean
	$(MAKE) -C sqlite/lib clean
	$(MAKE) -C system/lib clean
	$(MAKE) -C cpp/lib clean
	$(MAKE) -C feed/lib clean
	$(MAKE) -C tree/lib clean
	$(MAKE) -C xml/lib clean
	$(MAKE) -C csv/lib clean
	$(MAKE) -C text/lib clean
	$(MAKE) -C hz/lib clean
	$(MAKE) -C ts/lib clean
	$(MAKE) -C utils/lib clean
	$(MAKE) -C vcf/lib clean
	$(MAKE) -C hopdroid/lib clean
	$(MAKE) -C zeroconf/lib clean
	$(MAKE) -C exif/hop clean
	$(MAKE) -C readlines/hop clean

devclean: clean

distclean: clean

