/*=====================================================================*/
/*    .../project/hop/3.5.x/node_modules/hopdroid/lib/hopdroid.js      */
/*    -------------------------------------------------------------    */
/*    Author      :  Manuel Serrano                                    */
/*    Creation    :  Sun Jul  6 06:11:11 2014                          */
/*    Last change :  Sun Jan 23 09:13:36 2022 (serrano)                */
/*    Copyright   :  2014-22 Manuel Serrano                            */
/*    -------------------------------------------------------------    */
/*    HOP hopdroid                                                     */
/*=====================================================================*/
"use hopscript"

/*---------------------------------------------------------------------*/
/*    import ...                                                       */
/*---------------------------------------------------------------------*/
import { vCard } from hop.vcf;

/*---------------------------------------------------------------------*/
/*    Bigloo module clause to spawn hopjs HOPDROID initialization      */
/*---------------------------------------------------------------------*/
export const hopdroid = require("./_hopdroid.hop");
export const Phone = hopdroid.phone;
export const Wifi = hopdroid.wifi;

/*---------------------------------------------------------------------*/
/*    emulator                                                         */
/*---------------------------------------------------------------------*/
if (hopdroid.emulator) require("./_simulator");

/*---------------------------------------------------------------------*/
/*    contacts ...                                                     */
/*---------------------------------------------------------------------*/
hopdroid.phone.prototype.contacts = function(projection, selection) {
   return hopdroid.contacts.call(this, projection, selection)
      .map( vc => new vCard(vc));
}

/*---------------------------------------------------------------------*/
/*    exports                                                          */
/*---------------------------------------------------------------------*/
module.exports = hopdroid;


/* hopdroid.bindHopActivity( { action: "ACTION_CALL",                  */
/* 			    logo: undefined,                           */
/* 			    uri: call.action } );                      */

