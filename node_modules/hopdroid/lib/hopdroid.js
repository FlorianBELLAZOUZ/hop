/*=====================================================================*/
/*    .../project/hop/hop/node_modules/hopdroid/lib/hopdroid.js        */
/*    -------------------------------------------------------------    */
/*    Author      :  Manuel Serrano                                    */
/*    Creation    :  Sun Jul  6 06:11:11 2014                          */
/*    Last change :  Tue May 19 11:10:44 2020 (serrano)                */
/*    Copyright   :  2014-21 Manuel Serrano                            */
/*    -------------------------------------------------------------    */
/*    HOP hopdroid                                                     */
/*=====================================================================*/
"use hopscript"

/*---------------------------------------------------------------------*/
/*    imports                                                          */
/*---------------------------------------------------------------------*/
import { VCard } from hop.vcf;

/*---------------------------------------------------------------------*/
/*    Bigloo module clause to spawn hopjs HOPDROID initialization      */
/*---------------------------------------------------------------------*/
export const hopdroid = require( "./_hopdroid.hop" );


/* hopdroid.bindHopActivity( { action: "ACTION_CALL",                  */
/* 			    logo: undefined,                           */
/* 			    uri: call.action } );                      */

/*---------------------------------------------------------------------*/
/*    contacts ...                                                     */
/*---------------------------------------------------------------------*/
hopdroid.phone.prototype.contacts = function( projection, selection ) {
   return hopdroid.contacts.call( this, project, section )
      .map( vc => new VCard( vc ) );
}

/*---------------------------------------------------------------------*/
/*    exports                                                          */
/*---------------------------------------------------------------------*/
module.exports = hopdroid;
