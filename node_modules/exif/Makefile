#*=====================================================================*/
#*    serrano/prgm/project/hop/hop/node_modules/exif/Makefile          */
#*    -------------------------------------------------------------    */
#*    Author      :  manuel serrano                                    */
#*    Creation    :  Fri Oct 27 07:55:44 2023                          */
#*    Last change :  Tue Mar 26 11:36:53 2024 (serrano)                */
#*    Copyright   :  2023-24 manuel serrano                            */
#*    -------------------------------------------------------------    */
#*    Node's exif precompilation                                       */
#*=====================================================================*/
do: build

NPMDIR=../../npm

#*---------------------------------------------------------------------*/
#*    Goals                                                            */
#*---------------------------------------------------------------------*/
build:
	mkdir -p $(NPMDIR)/$(MODULEDIR)
	mkdir -p $(NPMDIR)/$(MODULEDIR)/hop
	mkdir -p $(NPMDIR)/$(MODULEDIR)/node
	mkdir -p $(NPMDIR)/$(MODULEDIR)/type
	$(MAKE) -C node
	cp package.json $(NPMDIR)/$(MODULEDIR)
	cp hop/*.*js $(NPMDIR)/$(MODULEDIR)/hop
	cp node/exif.mjs $(NPMDIR)/$(MODULEDIR)/node
	cp node/mmap.mjs $(NPMDIR)/$(MODULEDIR)/node
	cp type/*.d.ts $(NPMDIR)/$(MODULEDIR)/type
	cp -r test $(NPMDIR)/$(MODULEDIR)

clean:

cleanall: clean
	rm -f exif.js exif.mjs

