;*=====================================================================*/
;*    serrano/prgm/project/hop/hop/nodejs/modules/nodejs.mod.scm       */
;*    -------------------------------------------------------------    */
;*    Author      :  Manuel Serrano                                    */
;*    Creation    :  Mon Feb 20 21:10:02 2023                          */
;*    Last change :  Mon Feb 20 21:19:48 2023 (serrano)                */
;*    Copyright   :  2023 Manuel Serrano                               */
;*    -------------------------------------------------------------    */
;*    Nodejs exports                                                   */
;*=====================================================================*/

;*---------------------------------------------------------------------*/
;*    The modle                                                        */
;*---------------------------------------------------------------------*/
(module __hop_nodejs
   (library hop hopscript js2scheme web)
   (export (fsmod)))

;*---------------------------------------------------------------------*/
;*    input ...                                                        */
;*---------------------------------------------------------------------*/
(define-macro (input filename)
   (call-with-input-file filename
      read-string))

;*---------------------------------------------------------------------*/
;*    modules ...                                                      */
;*---------------------------------------------------------------------*/
(define %fs (input "modules/fs.mod.scm"))
(define fs #f)

(define (fsmod) 
   (unless fs (set! fs (string->obj %fs)))
   fs)
