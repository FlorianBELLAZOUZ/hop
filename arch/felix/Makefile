#*=====================================================================*/
#*    serrano/prgm/project/hop/2.2.x/arch/felix/Makefile               */
#*    -------------------------------------------------------------    */
#*    Author      :  Manuel Serrano                                    */
#*    Creation    :  Mon Oct  4 10:17:23 2010                          */
#*    Last change :  Mon Oct  4 10:30:17 2010 (serrano)                */
#*    Copyright   :  2010 Manuel Serrano                               */
#*    -------------------------------------------------------------    */
#*    The Felix port                                                   */
#*=====================================================================*/

do: build

#*---------------------------------------------------------------------*/
#*    Configuration                                                    */
#*---------------------------------------------------------------------*/
-include ../../etc/Makefile.hopconfig
-include ../../etc/Makefile.version

#*---------------------------------------------------------------------*/
#*    Sources                                                          */
#*---------------------------------------------------------------------*/
FELIX_SOURCES = HopRunner.java HopThread.java HopActivator.java
FELIX_CLASSES = $(FELIX_SOURCES:%.java=%.class)

CLASS_PATH = $(BUILDDIR)/src/o/class_s
CLASS_DIR = $(CLASS_PATH)/bigloo/hop

#*---------------------------------------------------------------------*/
#*    Population                                                       */
#*---------------------------------------------------------------------*/
POPULATION = $(FELIX_SOURCES) Makefile

#*---------------------------------------------------------------------*/
#*    Compile Felix classes                                            */
#*---------------------------------------------------------------------*/
build: $(FELIX_CLASSES)

#*---------------------------------------------------------------------*/
#*    SUFFIXES                                                         */
#*---------------------------------------------------------------------*/
.SUFFIXES:
.SUFFIXES: .class .o

#*---------------------------------------------------------------------*/
#*    Implicit rules                                                   */
#*---------------------------------------------------------------------*/
$(CLASS_DIR)/%.class: %.java
	$(JAVAC) -classpath $(CLASS_PATH):$(FELIX_JAR):$(BUILDIR)/arch/felix -d $(CLASS_PATH) $<

#*---------------------------------------------------------------------*/
#*    clean                                                            */
#*---------------------------------------------------------------------*/
clean:
	/bin/rm -f $(BUILDDIR)/$(CLASS_PATH)/$(FELIX_CLASSES)

devclean: clean

cleanall: devclean



