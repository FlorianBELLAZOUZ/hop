;*=====================================================================*/
;*    serrano/prgm/project/hop/weblets/home/config.hop                 */
;*    -------------------------------------------------------------    */
;*    Author      :  Manuel Serrano                                    */
;*    Creation    :  Mon Apr 10 13:54:14 2006                          */
;*    Last change :  Wed May 31 14:47:29 2006 (serrano)                */
;*    Copyright   :  2006 Manuel Serrano                               */
;*    -------------------------------------------------------------    */
;*    Home configuration                                               */
;*=====================================================================*/

;*---------------------------------------------------------------------*/
;*    The module                                                       */
;*---------------------------------------------------------------------*/
(module hophome_config
   (export (home-version)
	   (home-date)
	   (home-author)
	   (home-dir)
	   (home-rc-directory)
	   (home-hop-stable-version)
	   (home-hop-devel-version)
	   (home-articles-url-base)
	   (home-ftp-hop-url)
	   (home-ftp-bigloo-url)
	   (home-bigloo-url)
	   (home-source-url)))

;*---------------------------------------------------------------------*/
;*    Version                                                          */
;*---------------------------------------------------------------------*/
(define (home-version) "1.0.0")
(define (home-date) "2006")
(define (home-author) "M. Serrano")

;*---------------------------------------------------------------------*/
;*    home-dir                                                         */
;*---------------------------------------------------------------------*/
(define-parameter home-dir (dirname (the-loading-file)))

;*---------------------------------------------------------------------*/
;*    home-rc-directory ...                                            */
;*---------------------------------------------------------------------*/
(define-parameter home-rc-directory (make-file-name (hop-rc-directory) "home"))

;*---------------------------------------------------------------------*/
;*    home-hop-stable-version ...                                      */
;*---------------------------------------------------------------------*/
(define-parameter home-hop-stable-version
   "1.3.1")

;*---------------------------------------------------------------------*/
;*    home-hop-devel-version ...                                       */
;*---------------------------------------------------------------------*/
(define-parameter home-hop-devel-version
   (let* ((e (with-input-from-file (make-file-name (home-dir) "release.info") 
		read))
	  (state (let ((c (assq 'state e)))
		    (if (and (pair? c) (pair? (cdr c))) (cadr c) #f)))
	  (minor (let ((c (assq 'minor e)))
		    (if (and (pair? c) (pair? (cdr c))) (cadr c) #f)))
	  (version (cadr (assq 'major e))))
      (if (and state minor)
	  (format "hop-~a-~a~a" version state minor)
	  "not available")))

;*---------------------------------------------------------------------*/
;*    home-articles-url-base ...                                       */
;*---------------------------------------------------------------------*/
(define-parameter home-articles-url-base
   "http://www.inria.fr/mimosa/Manuel.Serrano/publi")

;*---------------------------------------------------------------------*/
;*    home-ftp-hop-url ...                                             */
;*---------------------------------------------------------------------*/
(define-parameter home-ftp-hop-url
   "ftp://ftp-sop.inria.fr/mimosa/fp/Hop")

;*---------------------------------------------------------------------*/
;*    home-ftp-bigloo-url ...                                          */
;*---------------------------------------------------------------------*/
(define-parameter home-ftp-bigloo-url
   "ftp://ftp-sop.inria.fr/mimosa/fp/Bigloo")

;*---------------------------------------------------------------------*/
;*    home-bigloo-url ...                                              */
;*---------------------------------------------------------------------*/
(define-parameter home-bigloo-url
   "http://www.inria.fr/mimosa/fp/Bigloo")

;*---------------------------------------------------------------------*/
;*    home-source-url ...                                              */
;*---------------------------------------------------------------------*/
(define-parameter home-source-url
   "http://hop.inria.fr:4000")
