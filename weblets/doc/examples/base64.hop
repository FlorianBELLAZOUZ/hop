;; An example of base64 encoding/decoding
(<HTML>
   (<HEAD> :include "base64")
   (let ((out (<SPAN> "")))
      (<BODY>
	 "Hit [return] on the text above for encoding on the client
and decoding on the server."
	 (<TABLE> :border 0 (<TR> (<TH> "result: ") (<TD> out)))
	 (<INPUT>
	    :type "text"
	    :onkeyup ~(if (= event.keyCode 13)
			  (with-hop ($(service (val) (base64-decode val))
				      (base64-encode this.value))
			     (lambda (h)
				(set! $out.innerHTML h))))))))
