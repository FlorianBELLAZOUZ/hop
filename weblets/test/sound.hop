;*=====================================================================*/
;*    serrano/prgm/project/hop/weblets/test/sound.hop                  */
;*    -------------------------------------------------------------    */
;*    Author      :  Manuel Serrano                                    */
;*    Creation    :  Sat Jul  7 08:33:34 2007                          */
;*    Last change :  Sun Jul  8 16:08:46 2007 (serrano)                */
;*    Copyright   :  2007 Manuel Serrano                               */
;*    -------------------------------------------------------------    */
;*    Testing sounds                                                   */
;*=====================================================================*/

;*---------------------------------------------------------------------*/
;*    The module                                                       */
;*---------------------------------------------------------------------*/
(module weblet_test-sound
   (import weblet_test)
   (export test/sound))

;*---------------------------------------------------------------------*/
;*    test/sound ...                                                   */
;*---------------------------------------------------------------------*/
(define-service (test/sound)
   (let ((snd (service-resource test/sound "sound-test.mp3")))
      (<TEST-HTML>
	 :include "hop-sound"
	 :source (service-resource test/sound "sound.hop")
	 (<DIV> :class "comment"
	    "This test uses the Flash plugin for playing sounds. This requires
Flash 7 or 9.")
	 (<BUTTON> "Play" :onclick ~(make-sound $snd :stream #t)))))
    
